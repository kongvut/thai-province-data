# Contributing Guide

р╕Вр╕нр╕Ър╕Др╕╕р╕Ур╕Чр╕╡р╣Ир╕кр╕Щр╣Гр╕Ир╕гр╣Ир╕зр╕бр╕Юр╕▒р╕Тр╕Щр╕▓ **thai-province-data** ЁЯОЙ  
р╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣Мр╕Щр╕╡р╣Йр╣Ар╕Ыр╣Зр╕Щр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е **р╕Ир╕▒р╕Зр╕лр╕зр╕▒р╕Ф, р╕нр╕│р╣Ар╕ар╕н (district), р╕Хр╕│р╕Ър╕е (sub_district)** р╕Вр╕нр╕Зр╕Ыр╕гр╕░р╣Ар╕Чр╕ир╣Др╕Чр╕в  
р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╕лр╕ер╕▓р╕вр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ (CSV, JSON, SQL, XLSX, XML, API) р╣Бр╕ер╕░р╣Ар╕Ыр╕┤р╕Фр╕Бр╕зр╣Йр╕▓р╕Зр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕гр╣Ир╕зр╕бр╕Юр╕▒р╕Тр╕Щр╕▓

---

## ЁЯЫая╕П р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕бр╕╡р╕кр╣Ир╕зр╕Щр╕гр╣Ир╕зр╕б

1. **Fork repository** р╣Др╕Ыр╕вр╕▒р╕З GitHub р╕Вр╕нр╕Зр╕Др╕╕р╕У
2. **р╕кр╕гр╣Йр╕▓р╕З branch р╣Гр╕лр╕бр╣И** р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕В/р╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╣Йр╕нр╕бр╕╣р╕е
   ```bash
   git checkout -b fix-district-name
   ```
   р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Кр╕╖р╣Ир╕н branch р╕Чр╕╡р╣Ир╣Бр╕Щр╕░р╕Щр╕│:
    - `fix-district-name`
    - `update-postal-code`
    - `add-new-district-data`
3. р╕Чр╕│р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕лр╕гр╕╖р╕нр╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╣Др╕Яр╕ер╣М (р╣Бр╕ер╕░р╕нр╕▒р╕Ыр╣Ар╕Фр╕Чр╣Ар╕зр╕ер╕▓р╣Ар╕бр╕╖р╣Ир╕нр╣Бр╕Бр╣Йр╣Др╕Вр╕Вр╣Йр╕нр╕бр╕╣р╕е `updated_at`) `data/raw/*.json`

   > note: р╕гр╕Ър╕Бр╕зр╕Щр╣Бр╕Бр╣Йр╣Др╕Вр╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣И `data/raw/*.json` р╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ р╣Ар╕Юр╕гр╕▓р╕░ API р╣Бр╕ер╕░ File format р╕Хр╣Ир╕▓р╕З р╣Ж р╕Ир╕░р╕Цр╕╣р╕Б Generate р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╣Гр╕Щр╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 4
4. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Бр╣Ир╕нр╕Щр╕кр╣Ир╕З PR**
   ```bash
   python3 scripts/0_validate_data.py --strict --fail-on-warn
   python3 scripts/make.py
   ```
   > р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ьр╕╣р╣Йр╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З Python р╣Бр╕ер╕░ dependency р╣Ар╕нр╕З р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Гр╕Кр╣Й Docker р╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡р╕Чр╕╡р╣Ир╕Щр╕╡р╣И "[р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Фр╣Йр╕зр╕в Docker](#1-build-image)"
5. Commit р╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╕Фр╣Йр╕зр╕вр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕кр╕▒р╣Йр╕Щ р╕Бр╕гр╕░р╕Кр╕▒р╕Ъ:
   ```bash
   fix: correct zip code in sub_districts
   add: new district in Chiang Mai
   docs: update README for API usage
   ```
6. р╣Ар╕Ыр╕┤р╕Ф **Pull Request (PR)** р╕бр╕▓р╕вр╕▒р╕З branch `main` р╕Юр╕гр╣Йр╕нр╕бр╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕вр╕Чр╕╡р╣Ир╕Кр╕▒р╕Фр╣Ар╕Ир╕Щ

---

## ЁЯУВ р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е

- `data/raw/` тЖТ р╣Др╕Яр╕ер╣Мр╕Хр╣Йр╕Щр╕Чр╕▓р╕З (JSON array)
- `data/spec/` тЖТ JSON Schema р╕Вр╕нр╕Зр╣Бр╕Хр╣Ир╕ер╕░р╕Хр╕▓р╕гр╕▓р╕З
- `formats/` тЖТ р╣Др╕Яр╕ер╣М export р╕лр╕ер╕▓р╕вр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ (csv/json/sql/xlsx/xml)
- `api/latest/` тЖТ API JSON р╕Чр╕╡р╣И build р╣Бр╕ер╣Йр╕зр╕Ир╕▓р╕Б raw data

---

## тЬЕ р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Чр╕│р╣Др╕Фр╣Й

- р╣Бр╕Бр╣Йр╣Др╕Вр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕░р╕Бр╕Фр╕Ьр╕┤р╕Ф (`name_th`, `name_en`)
- р╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕З **р╕гр╕лр╕▒р╕кр╣Др╕Ыр╕гр╕йр╕Ур╕╡р╕вр╣М / lat / long**
- р╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕лр╕бр╣Ир╕Ир╕▓р╕Б **р╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕гр╕▒р╕Р/р╣Бр╕лр╕ер╣Ир╕Зр╕Чр╕▓р╕Зр╕Бр╕▓р╕г**
- р╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕З **р╣Ар╕нр╕Бр╕кр╕▓р╕г** (README, Docs, Schema)
- р╣Ар╕Юр╕┤р╣Ир╕бр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ export р╣Гр╕лр╕бр╣И (р╣Ар╕Кр╣Ир╕Щ **Parquet, GeoJSON**)
- р╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╣Гр╕Щ `scripts/` р╣Гр╕лр╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Зр╣Ир╕▓р╕вр╕Вр╕╢р╣Йр╕Щ

---

## ЁЯФТ р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Др╕зр╕гр╕гр╕░р╕зр╕▒р╕З

- р╕Хр╣Йр╕нр╕Зр╕Др╕З **schema** р╕Хр╕▓р╕бр╕Чр╕╡р╣Ир╕Бр╕│р╕лр╕Щр╕Фр╣Гр╕Щ `data/spec/`
- р╕лр╣Йр╕▓р╕бр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Кр╕╖р╣Ир╕нр╕Др╕нр╕ер╕▒р╕бр╕Щр╣М/keys р╣Вр╕Фр╕вр╕Юр╕ер╕Бр╕▓р╕г
- р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕лр╕бр╣Ир╕Др╕зр╕гр╕бр╕╡ **reference р╕Чр╕╡р╣Ир╕Кр╕▒р╕Фр╣Ар╕Ир╕Щ**
- р╕лр╕ер╕╡р╕Бр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╕Бр╕▓р╕г commit р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Др╕бр╣Ир╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Вр╣Йр╕нр╕З (`.DS_Store`, `*.log`, `node_modules/`)

---

## ЁЯУД р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З Pull Request

р╣Ар╕зр╕ер╕▓р╣Ар╕Ыр╕┤р╕Ф PR р╕Бр╕гр╕╕р╕Ур╕▓р╕гр╕░р╕Ър╕╕р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Ф р╣Ар╕Кр╣Ир╕Щ:

```markdown
### Summary
р╣Бр╕Бр╣Йр╣Др╕Вр╕Кр╕╖р╣Ир╕нр╕нр╕│р╣Ар╕ар╕н "р╣Ар╕бр╕╖р╕нр╕Зр╕Вр╕нр╕Щр╣Бр╕Бр╣Ир╕Щ" р╣Гр╕Щр╣Др╕Яр╕ер╣М districts.json р╣Бр╕ер╕░ districts.csv

### Changes
- data/raw/districts.json
- formats/csv/districts.csv

### Reference
р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕▓р╕Бр╕Бр╕гр╕бр╕Бр╕▓р╕гр╕Ыр╕Бр╕Др╕гр╕нр╕З: https://www.dopa.go.th/

### Impact
р╣Др╕бр╣Ир╕бр╕╡р╕Ьр╕ер╕Бр╕гр╕░р╕Чр╕Ър╕Хр╣Ир╕н schema р╕лр╕гр╕╖р╕н API JSON
```

---

## ЁЯзСтАНЁЯТ╗ р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Щр╕▒р╕Бр╕Юр╕▒р╕Тр╕Щр╕▓

### р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З environment
```bash
python3 -m venv .venv
source .venv/bin/activate
pip install -U pandas openpyxl
```

### р╕гр╕▒р╕Щр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╣Бр╕вр╕Б
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е: `python3 scripts/0_validate_data.py --strict --fail-on-warn`
- export formats: `python3 scripts/1_export_file_format.py --overwrite`
- export api: `python3 scripts/2_export_api.py --overwrite`

---

## ЁЯз░ Automation Pipeline

р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕гр╕▒р╕Щ pipeline р╣Др╕Фр╣Йр╕Фр╣Йр╕зр╕вр╕Др╕│р╕кр╕▒р╣Ир╕Зр╣Ар╕Фр╕╡р╕вр╕з:

```bash
python3 scripts/make.py
```

Pipeline р╕Ир╕░р╕Чр╕│р╕Зр╕▓р╕Щр╕Фр╕▒р╕Зр╕Щр╕╡р╣Й:
1. р╕гр╕▒р╕Щ `0_validate_data.py` р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е
2. р╕гр╕▒р╕Щ `1_export_file_format.py --overwrite` р╕кр╕гр╣Йр╕▓р╕З formats
3. р╕гр╕▒р╕Щ `2_export_api.py --overwrite` р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х API JSON

---

## ЁЯР│ р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Фр╣Йр╕зр╕в Docker

р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ьр╕╣р╣Йр╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З Python р╣Бр╕ер╕░ dependency р╣Ар╕нр╕З р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Гр╕Кр╣Й Docker р╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡

### 1) Build image
```bash
docker compose build
```

### 2) р╕гр╕▒р╕Щ validator
```bash
docker compose run --rm validate
```

### 3) р╕гр╕▒р╕Щ pipeline р╣Ар╕Хр╣Зр╕б (validate тЖТ export formats тЖТ export api)
```bash
docker compose run --rm make
```

### 4) р╕нр╕Шр╕┤р╕Ър╕▓р╕вр╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕гр╣Ир╕зр╕бр╕Бр╕▒р╕Ъ Docker
- [Dockerfile](/Dockerfile) тАФ р╕Бр╕│р╕лр╕Щр╕Ф environment р╣Бр╕ер╕░ dependency
- [docker-compose.yml](/docker-compose.yml) тАФ service р╕кр╕│р╕лр╕гр╕▒р╕Ъ `validate` р╣Бр╕ер╕░ `make`
- mount р╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣Мр╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ (`./`) р╣Др╕Ыр╕вр╕▒р╕З `/app` р╣Гр╕Щ container р╣Ар╕Юр╕╖р╣Ир╕нр╣Гр╕лр╣Йр╣Бр╕Бр╣Йр╣Др╕Вр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕Щ repo р╣Бр╕ер╣Йр╕зр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕гр╕▒р╕Щр╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡

> р╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Др╕зр╕▓р╕бр╕кр╕░р╕Фр╕зр╕Б р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З Python, pandas, openpyxl р╣Гр╕Щр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕З

## ЁЯдЭ р╕Бр╕▓р╕г Review & Merge

- Maintainer р╕Ир╕░р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ PR р╕Чр╕╕р╕Бр╕Др╕гр╕▒р╣Йр╕З
- р╕Цр╣Йр╕▓р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╣Бр╕ер╕░р╕бр╕╡ reference тЖТ PR р╕Ир╕░р╕Цр╕╣р╕Б merge
- р╕Цр╣Йр╕▓р╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓ р╕Ир╕░р╕бр╕╡р╕Бр╕▓р╕г comment р╣Гр╕лр╣Йр╣Бр╕Бр╣Йр╣Др╕Вр╕Бр╣Ир╕нр╕Щ

---

ЁЯЩП р╕Вр╕нр╕Ър╕Др╕╕р╕Ур╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕бр╕╡р╕кр╣Ир╕зр╕Щр╕гр╣Ир╕зр╕б  
р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Др╕╕р╕Ур╕Кр╣Ир╕зр╕вр╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕З р╕Ир╕░р╕Кр╣Ир╕зр╕вр╣Гр╕лр╣Й dataset р╕Щр╕╡р╣Й **р╣Бр╕бр╣Ир╕Щр╕вр╕│ р╕Др╕гр╕нр╕Ър╕Др╕ер╕╕р╕б р╣Бр╕ер╕░р╕бр╕╡р╕Ыр╕гр╕░р╣Вр╕вр╕Кр╕Щр╣Мр╕Хр╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Чр╕╕р╕Бр╕Др╕Щ**
